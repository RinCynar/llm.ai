<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>LLM Chat App</title>
		<!-- Material Symbols -->
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
		/>
		<!-- Roboto Font -->
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
			rel="stylesheet"
		/>
		<!-- Material Web Components -->
		<script type="module">
			import "https://cdn.jsdelivr.net/npm/@material/web/all.js";
		</script>
		<style>
			:root {
				--md-sys-font-family: "Roboto", sans-serif;
				--md-ref-typeface-brand: "Roboto", sans-serif;
				--md-ref-typeface-plain: "Roboto", sans-serif;
			}

			/* Light Theme (default) */
			:root,
			[data-theme="light"] {
				--md-sys-color-primary: #6750a4;
				--md-sys-color-on-primary: #ffffff;
				--md-sys-color-primary-container: #eaddff;
				--md-sys-color-on-primary-container: #21005d;
				--md-sys-color-secondary: #625b71;
				--md-sys-color-on-secondary: #ffffff;
				--md-sys-color-secondary-container: #e8def8;
				--md-sys-color-on-secondary-container: #1d192b;
				--md-sys-color-tertiary: #7d5260;
				--md-sys-color-on-tertiary: #ffffff;
				--md-sys-color-tertiary-container: #ffd8e4;
				--md-sys-color-on-tertiary-container: #31111d;
				--md-sys-color-error: #b3261e;
				--md-sys-color-on-error: #ffffff;
				--md-sys-color-error-container: #f9dedc;
				--md-sys-color-on-error-container: #410e0b;
				--md-sys-color-background: #fffbfe;
				--md-sys-color-on-background: #1c1b1f;
				--md-sys-color-surface: #fffbfe;
				--md-sys-color-on-surface: #1c1b1f;
				--md-sys-color-surface-variant: #e7e0ec;
				--md-sys-color-on-surface-variant: #49454f;
				--md-sys-color-outline: #79747e;
				--md-sys-color-shadow: #000000;
				--md-sys-color-inverse-surface: #313033;
				--md-sys-color-inverse-on-surface: #f4eff4;
				--md-sys-color-inverse-primary: #d0bcff;

				--user-msg-bg: var(--md-sys-color-primary-container);
				--assistant-msg-bg: var(--md-sys-color-secondary-container);
				--text-color: var(--md-sys-color-on-surface);
			}

			/* Dark Theme */
			[data-theme="dark"] {
				--md-sys-color-primary: #d0bcff;
				--md-sys-color-on-primary: #381e72;
				--md-sys-color-primary-container: #4f378b;
				--md-sys-color-on-primary-container: #eaddff;
				--md-sys-color-secondary: #ccc2dc;
				--md-sys-color-on-secondary: #332d41;
				--md-sys-color-secondary-container: #4a4458;
				--md-sys-color-on-secondary-container: #e8def8;
				--md-sys-color-tertiary: #efb8c8;
				--md-sys-color-on-tertiary: #492532;
				--md-sys-color-tertiary-container: #633b48;
				--md-sys-color-on-tertiary-container: #ffd8e4;
				--md-sys-color-error: #f2b8b5;
				--md-sys-color-on-error: #601410;
				--md-sys-color-error-container: #8c1d18;
				--md-sys-color-on-error-container: #f9dedc;
				--md-sys-color-background: #1c1b1f;
				--md-sys-color-on-background: #e6e1e5;
				--md-sys-color-surface: #1c1b1f;
				--md-sys-color-on-surface: #e6e1e5;
				--md-sys-color-surface-variant: #49454f;
				--md-sys-color-on-surface-variant: #cac4d0;
				--md-sys-color-outline: #938f99;
				--md-sys-color-shadow: #000000;
				--md-sys-color-inverse-surface: #e6e1e5;
				--md-sys-color-inverse-on-surface: #313033;
				--md-sys-color-inverse-primary: #6750a4;

				--user-msg-bg: var(--md-sys-color-primary-container);
				--assistant-msg-bg: var(--md-sys-color-secondary-container);
				--text-color: var(--md-sys-color-on-surface);
			}

			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			body {
				font-family: var(--md-sys-font-family);
				line-height: 1.6;
				background-color: var(--md-sys-color-background);
				color: var(--text-color);
				transition:
					background-color 0.3s,
					color 0.3s;
			}

			.app-container {
				display: flex;
				flex-direction: column;
				height: 100vh;
				max-width: 800px;
				margin: 0 auto;
			}

			header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 0.5rem 1rem;
				border-bottom: 1px solid var(--md-sys-color-outline);
			}

			header h1 {
				font-size: 1.25rem;
				color: var(--md-sys-color-primary);
			}

			.chat-container {
				display: flex;
				flex-direction: column;
				flex: 1;
				overflow: hidden;
			}

			.chat-messages {
				flex: 1;
				overflow-y: auto;
				padding: 1rem;
			}

			.message {
				margin-bottom: 1rem;
				padding: 0.75rem 1rem;
				border-radius: 12px;
				max-width: 80%;
				display: flex;
				flex-direction: column;
			}

			.user-message {
				background-color: var(--user-msg-bg);
				align-self: flex-end;
				margin-left: auto;
			}

			.assistant-message {
				background-color: var(--assistant-msg-bg);
				align-self: flex-start;
			}

			.message-input {
				display: flex;
				align-items: center;
				padding: 0.5rem 1rem;
				border-top: 1px solid var(--md-sys-color-outline);
			}

			#user-input {
				flex: 1;
				background: transparent;
				border: none;
				font-family: inherit;
				font-size: 1rem;
				resize: none;
				min-height: 48px;
				padding: 0.75rem;
				color: var(--text-color);
			}

			#user-input:focus {
				outline: none;
			}

			#send-button {
				margin-left: 0.5rem;
			}

			.typing-indicator {
				display: none;
				padding: 0 1rem 0.5rem;
				font-style: italic;
				color: var(--md-sys-color-on-surface-variant);
			}

			.typing-indicator.visible {
				display: block;
			}

			footer {
				padding: 0.5rem 1rem;
				text-align: center;
				font-size: 0.85rem;
				color: var(--md-sys-color-on-surface-variant);
				border-top: 1px solid var(--md-sys-color-outline);
			}

			md-icon-button {
				--md-icon-button-icon-color: var(--md-sys-color-primary);
			}

			md-filled-button {
				--md-filled-button-container-color: var(--md-sys-color-primary);
				--md-filled-button-label-text-color: var(--md-sys-color-on-primary);
			}
		</style>
	</head>
	<body>
		<div class="app-container">
			<header>
				<h1>Cloudflare AI Chat</h1>
				<md-icon-button id="theme-switcher" toggle>
					<span class="material-symbols-outlined">light_mode</span>
					<span class="material-symbols-outlined" slot="selected"
						>dark_mode</span
					>
				</md-icon-button>
			</header>

			<main class="chat-container">
				<div id="chat-messages" class="chat-messages">
					<div class="message assistant-message">
						<p>
							Hello! I'm an LLM chat app powered by Cloudflare Workers AI. How
							can I help you today?
						</p>
					</div>
				</div>

				<div class="typing-indicator" id="typing-indicator">
					AI is thinking...
				</div>

				<div class="message-input">
					<md-outlined-text-field
						id="user-input"
						label="Type your message..."
						type="textarea"
						rows="1"
					></md-outlined-text-field>

					<md-filled-button id="send-button">
						<span class="material-symbols-outlined">send</span>
					</md-filled-button>
				</div>
			</main>

			<footer>
				<p>Cloudflare Workers AI Chat Template &copy; 2025</p>
			</footer>
		</div>
		<!-- Chat app script -->
		<script src="chat.js"></script>
	</body>
</html>
